{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { LogOutUserAction } from '@core/root-store/user/user.action';\nimport { Subscription } from 'rxjs';\nimport { PROJECT_NAME } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@core/services/local-storage/local-storage.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ngrx/store\";\nimport * as i4 from \"@shared/components/user-avatar/user-avatar.component\";\n/**\n * The default header\n * Use the @link {LayoutService} to set the header\n *\n * @example\n *\n * ```\n * constructor(private _layout: LayoutService){}\n *\n * setHeader() {\n *   this._layout.setHeader(SomeHeaderComponent);\n * }\n * ```\n */\n\nexport let SiteHeaderComponent = /*#__PURE__*/(() => {\n  class SiteHeaderComponent {\n    constructor(_storage, _router, store) {\n      this._storage = _storage;\n      this._router = _router;\n      this.store = store;\n      this.title = PROJECT_NAME;\n      this.subscriptions = new Subscription();\n    }\n\n    ngOnInit() {\n      this.listenToAuth();\n      this.listenToRoute();\n    }\n\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n    }\n    /**\n     * Listen to route changes and if about or features is the active route\n     * set the active property\n     * @private\n     */\n\n\n    listenToRoute() {\n      this.subscriptions.add(this._router.events.subscribe(val => {\n        if (val instanceof NavigationEnd) {\n          if (this._router.isActive('/features', true)) {\n            this.active = 'features';\n          } else if (this._router.isActive('/about', true)) {\n            this.active = 'about';\n          } else {\n            this.active = undefined;\n          }\n        }\n      }));\n    }\n    /**\n     * Setup a listener for a user\n     */\n\n\n    listenToAuth() {\n      this.store.select(state => state.user.data).subscribe(user => {\n        this.user = user;\n      });\n    }\n    /**\n     * Logout the current user\n     */\n\n\n    logout() {\n      this.store.dispatch(new LogOutUserAction());\n    }\n\n  }\n\n  SiteHeaderComponent.ɵfac = function SiteHeaderComponent_Factory(t) {\n    return new (t || SiteHeaderComponent)(i0.ɵɵdirectiveInject(i1.LocalStorageService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Store));\n  };\n\n  SiteHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SiteHeaderComponent,\n    selectors: [[\"app-header\"]],\n    decls: 12,\n    vars: 6,\n    consts: [[1, \"site-header-container\", \"flex-row\"], [\"routerLink\", \"/\", 1, \"title\"], [1, \"spacer\"], [\"routerLink\", \"/about\", 1, \"header-link\"], [\"routerLink\", \"/features\", 1, \"header-link\"], [\"href\", \"https://github.com/keithstric/angular-boilerplate-plain\", \"target\", \"_blank\", 1, \"header-link\"], [1, \"userIcon\", 3, \"routerLink\"], [1, \"small\"]],\n    template: function SiteHeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"a\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"span\", 2);\n        i0.ɵɵelementStart(4, \"a\", 3);\n        i0.ɵɵtext(5, \" About \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"a\", 4);\n        i0.ɵɵtext(7, \" Features \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"a\", 5);\n        i0.ɵɵtext(9, \" Repository \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"a\", 6);\n        i0.ɵɵelement(11, \"app-user-avatar\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"active\", ctx.active === \"about\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"active\", ctx.active === \"features\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", ctx.user ? \"/auth/user\" : \"/auth/login\");\n      }\n    },\n    directives: [i2.RouterLinkWithHref, i4.UserAvatarComponent],\n    styles: [\"@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes animation-slide-out-up{0%{transform:translate(0)}to{transform:translateY(-100%)}}@keyframes animation-slide-out-up{0%{transform:translate(0)}to{transform:translateY(-100%)}}@-webkit-keyframes animation-slide-out-down{0%{transform:translate(0)}to{transform:translateY(100%)}}@keyframes animation-slide-out-down{0%{transform:translate(0)}to{transform:translateY(100%)}}@-webkit-keyframes animation-slide-out-left{0%{transform:translate(0)}to{transform:translate(-100%)}}@keyframes animation-slide-out-left{0%{transform:translate(0)}to{transform:translate(-100%)}}@-webkit-keyframes animation-slide-out-right{0%{transform:translate(0)}to{transform:translate(100%)}}@keyframes animation-slide-out-right{0%{transform:translate(0)}to{transform:translate(100%)}}@-webkit-keyframes animation-slide-in-up{0%{transform:translateY(100%)}to{transform:translate(0)}}@keyframes animation-slide-in-up{0%{transform:translateY(100%)}to{transform:translate(0)}}@-webkit-keyframes animation-slide-in-down{0%{transform:translateY(-100%)}to{transform:translate(0)}}@keyframes animation-slide-in-down{0%{transform:translateY(-100%)}to{transform:translate(0)}}@-webkit-keyframes animation-slide-in-left{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes animation-slide-in-left{0%{transform:translate(-100%)}to{transform:translate(0)}}@-webkit-keyframes animation-slide-in-right{0%{transform:translate(100%)}to{transform:translate(0)}}@keyframes animation-slide-in-right{0%{transform:translate(100%)}to{transform:translate(0)}}.site-header-container[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;align-items:center;height:64px;padding:0 10px}.site-header-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;color:#fff}.site-header-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:hover{text-decoration:none;cursor:pointer;color:#fff}.site-header-container[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{margin-right:15px;padding:4px;border-radius:4px;background-color:#3f51b5;color:#fff}.site-header-container[_ngcontent-%COMP%]   .header-link.active[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#000;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003;transition:all .3s cubic-bezier(.25,.8,.25,1);text-decoration:none}.site-header-container[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]:hover{background-color:#d1ecf1;color:#000;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003;transition:all .3s cubic-bezier(.25,.8,.25,1);text-decoration:none}.site-header-container[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]{text-decoration:none}.site-header-container[_ngcontent-%COMP%]   .userIcon[_ngcontent-%COMP%]:hover{color:#03a9f4;cursor:pointer;text-decoration:none}\"]\n  });\n  return SiteHeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}